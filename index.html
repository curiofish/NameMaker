<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 작명소 - 당신의 소중한 이름을 위한 최고의 선택</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
<style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8f9fa;
        }
    .hero-section {
            background: linear-gradient(135deg, #6B73FF 0%, #000DFF 100%);
        color: white;
            padding: 100px 0;
            margin-bottom: 50px;
        position: relative;
        overflow: hidden;
    }
        .name-card {
            transition: transform 0.3s;
            border: none;
            border-radius: 15px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
        .name-card:hover {
        transform: translateY(-5px);
        }
        .loading {
            display: none;
        text-align: center;
            padding: 20px;
        }
        .loading-spinner {
            width: 3rem;
            height: 3rem;
        }
        .navbar {
            background: rgba(0,0,0,0.8) !important;
            backdrop-filter: blur(10px);
        }
        .navbar-brand {
        font-weight: 700;
            color: white !important;
        }
        .nav-link {
            color: rgba(255,255,255,0.8) !important;
            transition: color 0.3s;
        }
        .nav-link:hover {
            color: white !important;
        }
        .btn-primary {
            background: linear-gradient(135deg, #6B73FF 0%, #000DFF 100%);
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            transition: transform 0.3s;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    .scroll-to-top {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 40px;
        height: 40px;
        background-color: #000DFF;
        color: white;
        border-radius: 50%;
        display: none;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        z-index: 1000;
        transition: all 0.3s;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    .scroll-to-top:hover {
        background-color: #0007B8;
        transform: translateY(-2px);
    }
    .feature-card {
        transition: transform 0.3s;
    }
    .feature-card:hover {
        transform: translateY(-5px);
    }
</style>
</head>
<body>
    <!-- 네비게이션 바 -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
    <div class="container">
            <a class="navbar-brand" href="#">AI 작명소</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#features">특징</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#generate">이름 생성</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- 히어로 섹션 -->
    <section class="hero-section" style="margin-top: 70px;">
        <div class="container text-center">
            <h1 class="display-4 mb-4">AI 작명소</h1>
            <p class="lead mb-4">당신의 소중한 이름을 위한 최고의 선택</p>
            <a href="#generate" class="btn btn-light btn-lg" onclick="scrollToGenerate()">지금 시작하기</a>
    </div>
</section>

    <!-- 이름 생성 섹션 -->
    <section id="generate" class="py-5">
    <div class="container">
            <h2 class="text-center mb-5">이름 생성하기</h2>
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="card name-card">
                        <div class="card-body">
                            <form id="nameForm">
                                <div class="mb-3">
                                    <label for="family_name" class="form-label">성</label>
                                    <input type="text" class="form-control" id="family_name" required>
                </div>
                                <div class="mb-3">
                                    <label for="gender" class="form-label">성별</label>
                                    <select class="form-select" id="gender" required>
                                        <option value="">선택하세요</option>
                                        <option value="남">남성</option>
                                        <option value="여">여성</option>
                                    </select>
            </div>
                                <div class="mb-3">
                                    <label for="birth_year" class="form-label">출생년도</label>
                                    <input type="number" class="form-control" id="birth_year" min="1900" max="2100" required>
                </div>
                                <div class="mb-3">
                                    <label for="nameType" class="form-label">이름 유형</label>
                                    <select class="form-select" id="nameType" required>
                                        <option value="">선택하세요</option>
                                        <option value="hanja">한자 이름</option>
                                        <option value="korean">순수 한국어 이름</option>
                                    </select>
                                </div>
                                <button type="submit" class="btn btn-primary w-100">이름 생성하기</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div class="loading mt-4">
                <div class="spinner-border loading-spinner text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <p class="mt-3">이름을 생성하는 중입니다...</p>
            </div>
            <div id="results" class="mt-5" style="display: none;">
                <h3 class="text-center mb-4">생성된 이름</h3>
                <div class="row" id="nameResults"></div>
        </div>
    </div>
</section>

    <!-- 기능 소개 섹션 -->
    <section id="features" class="py-5 bg-light">
    <div class="container">
            <h2 class="text-center mb-5">주요 기능</h2>
        <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="card h-100 border-0 shadow-sm feature-card">
                        <div class="card-body text-center">
                            <i class="fas fa-magic fa-3x text-primary mb-3"></i>
                            <h4 class="card-title">AI 기반 이름 생성</h4>
                            <p class="card-text">한자의 의미와 획수를 고려하여 조화로운 이름을 생성합니다.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card h-100 border-0 shadow-sm feature-card">
                        <div class="card-body text-center">
                            <i class="fas fa-chart-line fa-3x text-primary mb-3"></i>
                            <h4 class="card-title">운세 분석</h4>
                            <p class="card-text">출생년도와 한자의 조화를 분석하여 운세 점수를 제공합니다.</p>
                    </div>
                </div>
            </div>
                <div class="col-md-4 mb-4">
                    <div class="card h-100 border-0 shadow-sm feature-card">
                        <div class="card-body text-center">
                            <i class="fas fa-book fa-3x text-primary mb-3"></i>
                            <h4 class="card-title">한자 데이터베이스</h4>
                            <p class="card-text">다양한 한자와 그 의미를 포함한 풍부한 데이터베이스를 보유하고 있습니다.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

    <!-- 푸터 -->
    <footer class="bg-dark text-light py-4">
    <div class="container">
        <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-2">© 2025 AI 작명소. All rights reserved.</p>
                    <p class="mb-0">
                        <a href="mailto:fishcurio@gmail.com" class="text-light text-decoration-none">
                            <i class="fas fa-envelope me-1"></i>fishcurio@gmail.com
                        </a>
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- 위로 가기 버튼 -->
    <div class="scroll-to-top" onclick="scrollToTop()">
        <i class="fas fa-arrow-up"></i>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // 한자 데이터
        const hanjaData = {
            '민': { meaning: '민첩하고 똑똑한', stroke: 5, hanja: '敏' },
            '준': { meaning: '준수하고 뛰어난', stroke: 10, hanja: '俊' },
            '서': { meaning: '서로 돕고 협력하는', stroke: 6, hanja: '序' },
            '지': { meaning: '지혜롭고 현명한', stroke: 8, hanja: '智' },
            '도': { meaning: '도움을 주는', stroke: 7, hanja: '道' },
            '현': { meaning: '현명하고 지혜로운', stroke: 8, hanja: '賢' },
            '우': { meaning: '우수하고 뛰어난', stroke: 6, hanja: '優' },
            '연': { meaning: '연약하고 부드러운', stroke: 7, hanja: '軟' },
            '은': { meaning: '은혜로운', stroke: 9, hanja: '恩' },
            '윤': { meaning: '윤택하고 풍요로운', stroke: 8, hanja: '潤' },
            '호': { meaning: '호기심 많고 탐구하는', stroke: 7, hanja: '好' },
            '수': { meaning: '수려하고 아름다운', stroke: 6, hanja: '秀' },
            '영': { meaning: '영원하고 빛나는', stroke: 8, hanja: '永' },
            '진': { meaning: '진실되고 성실한', stroke: 9, hanja: '眞' },
            '성': { meaning: '성공하고 번영하는', stroke: 7, hanja: '成' },
            '하': { meaning: '크고 넓은', stroke: 3, hanja: '河' },
            '태': { meaning: '태평하고 평화로운', stroke: 10, hanja: '泰' },
            '유': { meaning: '부드럽고 유연한', stroke: 5, hanja: '柔' },
            '인': { meaning: '어질고 착한', stroke: 4, hanja: '仁' },
            '예': { meaning: '아름답고 우아한', stroke: 8, hanja: '藝' },
            '채': { meaning: '빛나고 아름다운', stroke: 11, hanja: '彩' },
            '원': { meaning: '으뜸가는', stroke: 4, hanja: '元' },
            '정': { meaning: '바르고 곧은', stroke: 8, hanja: '正' },
            '승': { meaning: '이기고 승리하는', stroke: 11, hanja: '勝' },
            '혜': { meaning: '지혜롭고 총명한', stroke: 16, hanja: '慧' },
            '상': { meaning: '상서롭고 길한', stroke: 7, hanja: '祥' },
            '선': { meaning: '착하고 선한', stroke: 7, hanja: '善' },
            '미': { meaning: '아름답고 고운', stroke: 6, hanja: '美' },
            '래': { meaning: '다가올 미래', stroke: 9, hanja: '來' },
            '한': { meaning: '크고 한없는', stroke: 9, hanja: '漢' },
            '소': { meaning: '웃음이 있는', stroke: 4, hanja: '笑' },
            '희': { meaning: '기쁨이 있는', stroke: 12, hanja: '喜' },
            '다': { meaning: '많고 풍성한', stroke: 3, hanja: '多' },
            '온': { meaning: '온화하고 따뜻한', stroke: 8, hanja: '溫' },
            '해': { meaning: '밝고 빛나는', stroke: 10, hanja: '海' }
        };

        // 순수 한국어 이름 데이터
        const koreanNameData = {
            // 자연 관련
            '하늘': { meaning: '맑고 높은 하늘', type: ['자연'] },
            '바다': { meaning: '넓고 깊은 바다', type: ['자연'] },
            '달': { meaning: '밝은 달', type: ['자연'] },
            '별': { meaning: '반짝이는 별', type: ['자연'] },
            '구름': { meaning: '자유로운 구름', type: ['자연'] },
            '나래': { meaning: '날개', type: ['자연'] },
            '솔': { meaning: '소나무', type: ['자연'] },
            '가람': { meaning: '강, 물길', type: ['자연'] },
            '미르': { meaning: '용, 물의 신령', type: ['자연', '신령'] },
            '뫼': { meaning: '산', type: ['자연'] },
            '강': { meaning: '큰 물줄기', type: ['자연'] },
            '내': { meaning: '시냇물', type: ['자연'] },
            '샘': { meaning: '물이 솟는 곳', type: ['자연'] },
            '바람': { meaning: '자유로운 바람', type: ['자연'] },
            '비': { meaning: '생명을 키우는 비', type: ['자연'] },
            '눈': { meaning: '하얀 눈', type: ['자연'] },
            '이슬': { meaning: '맑은 이슬', type: ['자연'] },
            '안개': { meaning: '부드러운 안개', type: ['자연'] },
            '노을': { meaning: '저녁 노을', type: ['자연'] },
            '햇살': { meaning: '따뜻한 햇살', type: ['자연'] },
            '단비': { meaning: '기다리던 비', type: ['자연'] },
            '고운': { meaning: '아름답고 예쁜', type: ['형용'] },
            '맑은': { meaning: '깨끗하고 밝은', type: ['형용'] },
            '바른': { meaning: '올바르고 바른', type: ['형용'] },
            '푸른': { meaning: '푸르고 싱그러운', type: ['형용'] },
            '밝은': { meaning: '환하고 밝은', type: ['형용'] },
            '단아': { meaning: '단정하고 아름다운', type: ['형용'] },
            
            // 자연물과 현상
            '가온': { meaning: '중심, 한가운데', type: ['의미'] },
            '가을': { meaning: '풍요로운 계절', type: ['자연'] },
            '겨레': { meaning: '민족, 한 핏줄', type: ['의미'] },
            '고래': { meaning: '바다의 큰 동물', type: ['자연'] },
            '나비': { meaning: '나비처럼 예쁘고 자유로운', type: ['자연'] },
            '다래': { meaning: '달래, 산에서 자라는 열매', type: ['자연'] },
            '도래': { meaning: '돌아옴, 순환', type: ['의미'] },
            '마루': { meaning: '꼭대기, 절정', type: ['의미'] },
            '무지개': { meaning: '일곱 빛깔의 다리', type: ['자연'] },
            '미리내': { meaning: '은하수', type: ['자연'] },
            '바위': { meaning: '단단한 돌', type: ['자연'] },
            '보라': { meaning: '보라색 꽃', type: ['자연'] },
            '봄': { meaning: '새싹이 돋는 계절', type: ['자연'] },
            '빛나': { meaning: '빛이 나는', type: ['형용'] },
            '사랑': { meaning: '사랑', type: ['의미'] },
            '새벽': { meaning: '새로운 시작', type: ['자연'] },
            '샛별': { meaning: '새벽에 뜨는 별', type: ['자연'] },
            '소리': { meaning: '아름다운 소리', type: ['의미'] },
            '솔빛': { meaning: '소나무 빛깔', type: ['자연'] },
            '시내': { meaning: '흐르는 물', type: ['자연'] },
            '아리': { meaning: '아름답다', type: ['형용'] },
            '아침': { meaning: '새로운 시작', type: ['자연'] },
            '여름': { meaning: '열정적인 계절', type: ['자연'] },
            '열매': { meaning: '결실', type: ['자연'] },
            '예솔': { meaning: '예쁜 소나무', type: ['자연'] },
            '오름': { meaning: '작은 산', type: ['자연'] },
            '우주': { meaning: '넓은 우주', type: ['자연'] },
            '울림': { meaning: '마음의 울림', type: ['의미'] },
            '은하': { meaning: '은하수', type: ['자연'] },
            '자락': { meaning: '산자락', type: ['자연'] },
            '잔디': { meaning: '푸른 잔디', type: ['자연'] },
            '조아': { meaning: '좋은, 훌륭한', type: ['형용'] },
            '지니': { meaning: '지혜를 가진', type: ['의미'] },
            '초롱': { meaning: '밝은 빛', type: ['자연'] },
            '하얀': { meaning: '순수한 흰색', type: ['형용'] },
            '한울': { meaning: '큰 하늘', type: ['자연'] },
            '해달': { meaning: '해와 달', type: ['자연'] },
            '해솔': { meaning: '해가 비치는 소나무', type: ['자연'] },
            '해오름': { meaning: '해가 떠오름', type: ['자연'] },
            '홍실': { meaning: '붉은 실', type: ['자연'] },
            '희망': { meaning: '밝은 희망', type: ['의미'] },
            
            // 전통 및 문화
            '가야': { meaning: '아름다운 노래', type: ['예술'] },
            '가온길': { meaning: '중심이 되는 길', type: ['의미'] },
            '고운빛': { meaning: '아름다운 빛', type: ['형용'] },
            '나래새': { meaning: '날개 달린 새', type: ['자연'] },
            '다솜': { meaning: '사랑', type: ['의미'] },
            '단아름': { meaning: '고운 아름다움', type: ['형용'] },
            '도담': { meaning: '맑고 깨끗함', type: ['형용'] },
            '두리': { meaning: '둘레, 주위', type: ['의미'] },
            '마음': { meaning: '순수한 마음', type: ['의미'] },
            '바른길': { meaning: '올바른 길', type: ['의미'] },
            '보듬': { meaning: '감싸안음', type: ['의미'] },
            '보름': { meaning: '달이 가득 찬 날', type: ['자연'] },
            '빛가람': { meaning: '빛나는 강', type: ['자연'] },
            '사랑별': { meaning: '사랑스러운 별', type: ['자연'] },
            '새봄': { meaning: '새로운 봄', type: ['자연'] },
            '샘물': { meaning: '맑은 샘물', type: ['자연'] },
            '솔가람': { meaning: '소나무와 강', type: ['자연'] },
            '아리솔': { meaning: '아름다운 소나무', type: ['자연'] },
            '여울': { meaning: '물살이 센 곳', type: ['자연'] },
            '열린': { meaning: '열려있는 마음', type: ['의미'] },
            '우리': { meaning: '함께하는 공동체', type: ['의미'] },
            '윤슬': { meaning: '물결에 비치는 햇빛', type: ['자연'] },
            '이레': { meaning: '일곱 날', type: ['의미'] },
            '자비': { meaning: '사랑과 자비', type: ['의미'] },
            '정든': { meaning: '정이 든', type: ['의미'] },
            '한결': { meaning: '한결같은', type: ['의미'] },
            '한별': { meaning: '크고 밝은 별', type: ['자연'] },
            '해랑': { meaning: '해와 함께', type: ['자연'] },
            '해린': { meaning: '넓은 바다', type: ['자연'] },
            '해솔빛': { meaning: '소나무에 비치는 햇빛', type: ['자연'] }
        };

        // 미리 계산된 한자 배열
        const HANJA_CHARS = Object.keys(hanjaData);
        const KOREAN_NAMES = Object.keys(koreanNameData);
        const CACHE_KEY = 'nameCache';

        // DOM이 로드된 후 실행
        document.addEventListener('DOMContentLoaded', function() {
            // 이름 생성 로직
            const nameForm = document.getElementById('nameForm');
            const results = document.getElementById('results');
            const nameResults = document.getElementById('nameResults');
            const loading = document.querySelector('.loading');

            // 시작하기 버튼 스크롤 함수
            function scrollToGenerate() {
                const generateSection = document.getElementById('generate');
                const headerOffset = 70;
                const elementPosition = generateSection.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.scrollY - headerOffset;

                window.scrollTo({
                    top: offsetPosition,
                    behavior: "smooth"
                });
            }

            // 캐시에서 이름 가져오기
            function getFromCache(key) {
                const cache = localStorage.getItem(CACHE_KEY);
                if (cache) {
                    const data = JSON.parse(cache);
                    return data[key];
                }
                return null;
            }

            // 캐시에 이름 저장
            function saveToCache(key, names) {
                const cache = localStorage.getItem(CACHE_KEY);
                const data = cache ? JSON.parse(cache) : {};
                data[key] = names;
                localStorage.setItem(CACHE_KEY, JSON.stringify(data));
            }

            function generateNames(familyName, gender, birthYear) {
                // 캐시 키 생성
                const cacheKey = `${familyName}-${gender}-${birthYear}`;
                
                // 캐시된 결과가 있는지 확인
                const cachedNames = getFromCache(cacheKey);
                if (cachedNames) {
                    return cachedNames;
                }

                const names = [];
                const usedCombinations = new Set();
                const maxAttempts = 1000; // 최대 시도 횟수 설정
                let attempts = 0;
                
                while (names.length < 20 && attempts < maxAttempts) { // 20개의 이름으로 증가
                    attempts++;
                    const firstName = HANJA_CHARS[Math.floor(Math.random() * HANJA_CHARS.length)];
                    const secondName = HANJA_CHARS[Math.floor(Math.random() * HANJA_CHARS.length)];
                    const combination = firstName + secondName;
                    
                    if (!usedCombinations.has(combination) && firstName !== secondName) {
                        usedCombinations.add(combination);
                        const meaning = getMeaning(combination);
                        const score = calculateScore(combination, birthYear);
                        names.push({
                            name: familyName + combination,
                            hanja: combination,
                            meaning: meaning,
                            score: score,
                            analysis: generateAnalysis(combination, birthYear)
                        });
                    }
                }
                
                // 점수 기준으로 정렬
                names.sort((a, b) => b.score - a.score);
                
                // 결과를 캐시에 저장
                saveToCache(cacheKey, names);
                return names;
            }

            function getMeaning(name) {
                return Array.from(name)
                    .map(char => hanjaData[char]?.meaning)
                    .filter(Boolean)
                    .join(', ');
            }

            function calculateScore(name, birthYear) {
                const totalStrokes = Array.from(name)
                    .reduce((sum, char) => sum + (hanjaData[char]?.stroke || 0), 0);

                const yearLastDigit = birthYear % 10;
                const strokeHarmony = Math.abs(totalStrokes - yearLastDigit * 2);
                const score = 70 + (10 - strokeHarmony) * 2;

                return Math.min(100, Math.max(70, score));
            }

            function generateAnalysis(name, birthYear) {
                const analysis = [];
                const yearLastDigit = birthYear % 10;
                const totalStrokes = Array.from(name)
                    .reduce((sum, char) => sum + (hanjaData[char]?.stroke || 0), 0);

                // 각 글자 분석
                Array.from(name).forEach(char => {
                    const hanja = hanjaData[char];
                    if (hanja) {
                        analysis.push(`${char}(${hanja.stroke}획): ${hanja.meaning}`);
                    }
                });

                // 총획수 분석
                analysis.push(`총 획수: ${totalStrokes}획`);

                // 음양 조화 분석
                if (totalStrokes % 2 === 0) {
                    analysis.push('음양이 조화롭게 균형을 이루는 이름입니다. 안정적이고 조화로운 기운을 가지고 있습니다.');
                } else {
                    analysis.push('독특한 개성이 돋보이는 이름입니다. 창의적이고 진취적인 기운을 가지고 있습니다.');
                }

                // 한자 조화 분석
                const firstChar = name[0];
                const secondChar = name[1];
                const firstStroke = hanjaData[firstChar]?.stroke || 0;
                const secondStroke = hanjaData[secondChar]?.stroke || 0;
                
                if (Math.abs(firstStroke - secondStroke) <= 2) {
                    analysis.push('두 글자의 획수가 조화롭게 어울립니다.');
                } else if (firstStroke < secondStroke) {
                    analysis.push('점진적으로 발전하는 기운을 가진 이름입니다.');
                } else {
                    analysis.push('안정감 있게 성장하는 기운을 가진 이름입니다.');
                }

                // 출생년도 조화 분석
                if (Math.abs(totalStrokes - yearLastDigit * 2) <= 2) {
                    analysis.push('출생년도와 이름의 획수가 조화를 이루어 행운을 가져다주는 이름입니다.');
                }

                return analysis;
            }

            function displayResults(names, type) {
                nameResults.innerHTML = '';
                results.style.display = 'block';

                names.forEach(name => {
                    const col = document.createElement('div');
                    col.className = 'col-md-3 mb-4';
                    
                    let content;
                    if (type === 'hanja') {
                        content = `
                            <div class="card h-100 name-card">
                                <div class="card-body">
                                    <h5 class="card-title">${name.name}</h5>
                                    <h6 class="card-subtitle mb-2 text-muted">(${Array.from(name.hanja).map(char => `${hanjaData[char]?.hanja}[${hanjaData[char]?.meaning}]`).join(' ')})</h6>
                                    <p class="card-text">
                                        <strong>운세 점수:</strong> ${name.score}점
                                    </p>
                                    <button class="btn btn-outline-primary btn-sm w-100" type="button" data-bs-toggle="collapse" data-bs-target="#analysis${name.name}" aria-expanded="false">
                                        상세 분석 보기
                                    </button>
                                    <div class="collapse mt-2" id="analysis${name.name}">
                                        <div class="card card-body p-2">
                                            <ul class="list-group list-group-flush">
                                                ${name.analysis.map(item => `
                                                    <li class="list-group-item py-1">
                                                        <i class="fas fa-check text-success me-2"></i>
                                                        ${item}
                                                    </li>
                                                `).join('')}
                                            </ul>
                                        </div>
                                    </div>
                </div>
            </div>
                        `;
                    } else {
                        content = `
                            <div class="card h-100 name-card">
                                <div class="card-body">
                                    <h5 class="card-title">${name.name}</h5>
                                    <p class="card-text">
                                        <strong>의미:</strong> ${name.meaning}
                                    </p>
                                    <button class="btn btn-outline-primary btn-sm w-100" type="button" data-bs-toggle="collapse" data-bs-target="#analysis${name.name}" aria-expanded="false">
                                        상세 분석 보기
                                    </button>
                                    <div class="collapse mt-2" id="analysis${name.name}">
                                        <div class="card card-body p-2">
                                            <ul class="list-group list-group-flush">
                                                ${name.analysis.map(item => `
                                                    <li class="list-group-item py-1">
                                                        <i class="fas fa-check text-success me-2"></i>
                                                        ${item}
                                                    </li>
                                                `).join('')}
                                            </ul>
                </div>
            </div>
        </div>
    </div>
                        `;
                    }
                    
                    col.innerHTML = content;
                    nameResults.appendChild(col);
                });

                const resultCount = document.createElement('div');
                resultCount.className = 'col-12 text-center mb-4';
                resultCount.innerHTML = `<p class="text-muted">총 ${names.length}개의 이름이 생성되었습니다.</p>`;
                nameResults.insertBefore(resultCount, nameResults.firstChild);
            }

            // 폼 제출 이벤트 리스너
            nameForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const familyName = document.getElementById('family_name').value;
                const gender = document.getElementById('gender').value;
                const birthYear = document.getElementById('birth_year').value;
                const nameType = document.getElementById('nameType').value;

                loading.style.display = 'block';
                results.style.display = 'none';
                nameResults.innerHTML = '';

                setTimeout(() => {
                    let names;
                    if (nameType === 'hanja') {
                        names = generateNames(familyName, gender, birthYear);
                    } else {
                        names = generateKoreanNames(familyName, gender);
                    }
                    displayResults(names, nameType);
                    loading.style.display = 'none';
                    results.style.display = 'block';
                }, 300);
            });

            // 위로 가기 버튼 관련 코드
            const scrollToTopBtn = document.querySelector('.scroll-to-top');

            window.addEventListener('scroll', function() {
                if (window.scrollY > 300) {
                    scrollToTopBtn.style.display = 'flex';
                } else {
                    scrollToTopBtn.style.display = 'none';
                }
            });

            function scrollToTop() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            }

            // 스크롤 시 네비게이션 바 스타일 변경
            window.addEventListener('scroll', function() {
                const navbar = document.querySelector('.navbar');
                navbar.style.backgroundColor = window.scrollY > 50 ? 
                    'rgba(0,0,0,0.9)' : 
                    'rgba(0,0,0,0.8)';
            });

            // 부드러운 스크롤
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    const headerOffset = 70;
                    const elementPosition = targetElement.getBoundingClientRect().top;
                    const offsetPosition = elementPosition + window.scrollY - headerOffset;

                    window.scrollTo({
                        top: offsetPosition,
                        behavior: "smooth"
                    });
                });
            });

            // scrollToGenerate 함수를 전역으로 노출
            window.scrollToGenerate = scrollToGenerate;

            function generateKoreanNames(familyName, gender) {
                const names = [];
                const usedCombinations = new Set();
                const maxAttempts = 1000;
                let attempts = 0;

                while (names.length < 10 && attempts < maxAttempts) {
                    attempts++;
                    const name = KOREAN_NAMES[Math.floor(Math.random() * KOREAN_NAMES.length)];
                    
                    if (!usedCombinations.has(name)) {
                        usedCombinations.add(name);
                        const meaning = koreanNameData[name].meaning;
                        const types = koreanNameData[name].type;
                        names.push({
                            name: familyName + name,
                            korean: name,
                            meaning: meaning,
                            types: types,
                            analysis: generateKoreanAnalysis(name, types)
                        });
                    }
                }
                
                return names;
            }

            function generateKoreanAnalysis(name, types) {
                const analysis = [];
                
                // 의미 분석
                analysis.push(`의미: ${koreanNameData[name].meaning}`);
                
                // 이름 유형 분석
                analysis.push(`이름 유형: ${types.join(', ')}`);
                
                // 음절 분석
                const syllableCount = name.length;
                analysis.push(`음절 수: ${syllableCount}음절`);
                
                // 특징 분석
                if (types.includes('자연')) {
                    analysis.push('자연과 조화를 이루는 아름다운 이름입니다.');
                }
                if (types.includes('의미')) {
                    analysis.push('깊이 있는 의미를 담은 이름입니다.');
                }
                if (types.includes('형용')) {
                    analysis.push('아름다운 성품을 표현하는 이름입니다.');
                }

                return analysis;
            }
    });
</script>
</body>
</html> 